/**
 * mpxjs webview bridge v2.1.12
 * (c) 2019 @mpxjs team
 * @license Apache
 */
const e={wx:"https://res.wx.qq.com/open/js/jweixin-1.3.2.js",qq:"https://qqq.gtimg.cn/miniprogram/webview_jssdk/qqjssdk-1.0.0.js",ali:"https://appx/web-view.min.js",baidu:"https://b.bdstatic.com/searchbox/icms/searchbox/js/swan-2.0.4.js",tt:"https://s3.pstatp.com/toutiao/tmajssdk/jssdk.js"},t={wx:["wx","miniProgram"],qq:["qq","miniProgram"],ali:["my"],baidu:["swan","webView"],tt:["tt","miniProgram"]};let n=null,o=navigator.userAgent;o.indexOf("AlipayClient")>-1?n="ali":o.indexOf("miniProgram")>-1||o.indexOf("miniprogram")>-1?n=o.indexOf("QQ")>-1?"qq":"wx":o.indexOf("swan")>-1?n="baidu":o.indexOf("toutiao")>-1&&(n="tt");const s={};const i=e=>{const o={navigateTo:"navigateTo",navigateBack:"navigateBack",switchTab:"switchTab",reLaunch:"reLaunch",redirectTo:"redirectTo",getEnv:"getEnv",postMessage:"postMessage",onMessage:{ali:!0}};for(let i in o){const a="string"==typeof o[i]?o[i]:!!o[i][n]&&("string"==typeof o[i][n]?o[i][n]:i);s[i]=(...o)=>{a?e.then(()=>{t[n].reduce((e,t)=>e[t],window)[a](...o)},e=>{console.log(e)}).catch(e=>console.log(e)):console.log(`${n}\u5c0f\u7a0b\u5e8f\u4e0d\u652f\u6301 ${i} \u65b9\u6cd5`)}}};(()=>{if(null===n)return void console.log("mpxjs/webview: \u672a\u8bc6\u522b\u7684\u73af\u5883\uff0c\u5f53\u524d\u4ec5\u652f\u6301 \u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u3001\u767e\u5ea6\u3001\u5934\u6761 QQ \u5c0f\u7a0b\u5e8f");const t=window[n]?Promise.resolve():e[n]?function(e,{time:t=5e3,crossOrigin:n=!1}={}){return Promise.race([new Promise((t,o)=>{let s=document.createElement("script");s.type="text/javascript",s.async="async",n&&(s.crossOrigin="anonymous"),s.onload=s.onreadystatechange=function(){this.readyState&&!/^(loaded|complete)$/.test(this.readyState)||(t(),s.onload=s.onreadystatechange=null)},s.onerror=function(){o(new Error(`load ${e} error`)),s.onerror=null},s.src=e,document.getElementsByTagName("head")[0].appendChild(s)}),new Promise((n,o)=>{setTimeout(()=>{o(new Error(`load ${e} timeout`))},t)})])}(e[n]):Promise.reject(new Error("\u672a\u627e\u5230\u5bf9\u5e94\u7684sdk"));i(t)})();const a={...s,wxsdkConfig:e=>{},mpxEnv:n},{navigateTo:r,navigateBack:c,switchTab:d,reLaunch:g,redirectTo:m,getEnv:l,postMessage:w}=s,{wxsdkConfig:p}=a;export default a;export{l as getEnv,c as navigateBack,r as navigateTo,w as postMessage,g as reLaunch,m as redirectTo,d as switchTab,p as wxsdkConfig};